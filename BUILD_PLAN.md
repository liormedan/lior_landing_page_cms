תכנית בנייה והטמעה – CMS בעברית על Sanity
==========================================

מטרות
-----
- להקים מערכת ניהול תוכן מלאה בעברית (RTL) שמשרתת צוותי תוכן/שיווק.
- לבנות ממשק עריכה נוח (Sanity Studio), כולל Preview, טיוטות/פרסום והרשאות.
- לאפשר יצירת אתרים מסוגים שונים: בלוג, תוכן שיווקי, דפי מוצר, חנות, עמודי נחיתה ועוד.
- לתכנן מיגרציה מאתר קיים, כולל מיפוי תכנים, ייבוא נכסים והפניות 301.

תכולות עיקריות (Deliverables)
------------------------------
- פרויקט Sanity מאופיין ומוגדר (Schemas, Roles, Webhooks, Preview).
- מודלי תוכן מוכנים לשימוש: Post, Page, Category, Author, Product, Collection, Menu, SiteSettings, SEO.
- אתר Next.js מחובר ל‑Sanity עם ISR/SSR, תמיכה מלאה ב‑RTL ונגישות.
- סביבת Preview חיה מתוך ה‑Studio.
- תהליך CI/CD ל‑Vercel, כולל סודות סביבתיים והגדרות קאשינג.
- תיעוד תפעולי קצר לצוות התוכן + הדרכה.

ארכיטקטורה מוצעת
-----------------
- Frontend: Next.js (App Router), Typescript, Tailwind, תמיכה מובנית ב‑RTL.
- CMS: Sanity (Datasets, Schemas, Roles, Webhooks), Portable Text.
- אחסון מדיה: Sanity Assets. אפשרות לייבוא המוני.
- תזרים תצוגה: ISR/SSG/SSR לפי סוג העמוד. Revalidation לפי Webhook.
- Preview: נתיב מוגן סוד (`SANITY_PREVIEW_SECRET`) עם טיוטות.

מודלי תוכן בסיסיים
-------------------
- Post: title, slug, excerpt, body, coverImage, categories, author, seo.
- Page: title, slug, blocks/sections, seo.
- Product (אופציונלי): title, slug, description, images, price, variants, availability, seo.
- Category/Collection: title, slug, image, description.
- Menu: מבנה ניווט היררכי.
- SiteSettings: לוגו, צבעים, Social, ברירות מחדל ל‑SEO.

יכולות CMS ושירות נלווה
------------------------
- הרשאות/תפקידים (Editor/Publisher/Admin) + לוגים בסיסיים.
- Preview מיידי, תמיכה בטיוטות, זמני עדכון מהירים.
- הרחבות: טפסים, אינטגרציות CRM/Analytics, i18n, Blocks דינאמיים.
- ליווי שוטף: עדכוני סכמות/קומפוננטים, ניטור, גיבויים.

מיגרציה מאתר קיים – צ׳ק‑ליסט מפורט
-----------------------------------
1) מיפוי תכולה
   - מה מנסים להעביר? (עמודים/פוסטים/תמונות/קטגוריות/מוצרים/תגיות)
   - ספירת פריטים לכל ישות + שדות ייחודיים.
2) מיפוי סכמות
   - טבלת המרה: שדות מקור → שדות ב‑Sanity.
   - החלטה על שדות חובה/אימותים/טקסונומיות.
3) יצוא מקור
   - JSON/CSV/Database dump/WordPress REST.
   - אחזור נכסים (תמונות/וידאו) לקבצים.
4) יבוא ל‑Sanity
   - כתיבת סקריפט `sanity dataset import` או שימוש ב‑API.
   - יצירת מסמכים עם שמירה על slugs/ids היכן שנדרש.
5) תמונות ונכסים
   - העלאה ל‑Sanity Assets עם שמירה על Alt/Text.
6) SEO והפניות
   - הפקת טבלת Redirects 301 מה‑slugs הישנים לחדשים.
   - עדכון `sitemap` ו‑`robots` לאחר העלאה.
7) בדיקות
   - ספירת פריטים מול מקור, דגימה ידנית של תכנים, בדיקות קישורים שבורים.
8) השקה
   - Freeze תוכן קצר, העלאה ל‑Production, ביטול הפניות זמניות.

תמחור מוצע (הערכות לטווחי ביצוע)
---------------------------------
חבילות הקמה
- Starter: ₪8,500–12,000 — בלוג/אתר תוכן קטן, 3–5 מודלים, Preview, SEO בסיסי.
- Growth: ₪18,000–28,000 — אתר תוכן/שיווק עם כמה תבניות, i18n/קטגוריות, אוטומציות.
- Pro: ₪35,000–55,000 — מודלים מרובי‑ישויות (כולל מוצרים/אוספים), רכיבי UI מותאמים, אינטגרציות.
- Enterprise: לפי אפיון — הרשאות מורכבות, תהליכי אישור, עומסים, אבטחה.

מיגרציה
- ייבוא אוטומטי: ₪2,500–9,000 בהתאם להיקף והפורמט.
- ייבוא ידני/מעורב: ₪40–80 לפריט תוכן לאחר אוטומציה בסיסית.
- הפניות 301 ומדדי SEO: ₪1,500–3,500.

ריטיינר חודשי (אופציונלי)
- Basic ₪1,200 — עד 3 שעות/חודש: תיקוני תוכן קלים, ניטור, עדכוני סכמות קטנים.
- Standard ₪2,400 — עד 7 שעות/חודש: פיצ׳רים קטנים, תמיכה, אופטימיזציה שוטפת.
- Pro ₪4,500+ — עד 15 שעות/חודש: פיתוח מתמשך, אינטגרציות, A/B.
הערה: עלויות שימוש ב‑Sanity/שירותי צד שלישי לפי תמחור הספק (Pass‑through).

ציר זמן ומיילסטונים טיפוסיים
-----------------------------
שבוע 1: אפיון + מודלי תוכן + סקופ מיגרציה
- סדנת אפיון קצרה, הגדרת ישויות ושדות.
- מסמך מיפוי + טיוטת סכמות.

שבוע 2–3: פיתוח Studio ו‑Frontend + יבוא ניסיוני
- בניית סכמות, Studio, Preview, חיבור Next.js.
- יבוא פיילוט ל‑Sanity (10–20 פריטים), בדיקות SEO/נגישות.

שבוע 4: מיגרציה מלאה + QA + השקה
- ייבוא המוני, הפניות, בדיקות עומס/קישורים.
- השקה ל‑Production ויד ספר תפעול קצר.

מה צריך ממך כדי לצאת לדרך
--------------------------
- גישה למקור התוכן/DB/יצוא (WordPress/CSV/JSON).
- דוגמאות לעמודים “טיפוסיים” + הנחיות מיתוג.
- חשבונות: Sanity, Vercel (או חלופה), Analytics/Tag Manager.
- אישור טווח תכולה ותמחור.

שלבים לביצוע – צעד אחר צעד
---------------------------
1) אישור התכנית והחבילה.
2) הקמת פרויקט Sanity + משתני סביבה.
3) יצירת סכמות ראשוניות + Studio.
4) חיבור Frontend + Preview.
5) פיילוט יבוא (10–20 פריטים) ואישור מבנה/תצוגה.
6) מיגרציה מלאה של תכנים ונכסים.
7) בדיקות SEO/נגישות/ביצועים.
8) העלאה ל‑Production והדרכה.
9) מעבר לריטיינר חודשי במידת הצורך.

נספח: משתני סביבה עיקריים
--------------------------
- `NEXT_PUBLIC_SANITY_PROJECT_ID`
- `NEXT_PUBLIC_SANITY_DATASET`
- `SANITY_API_VERSION`
- `SANITY_READ_TOKEN` (ל‑Preview)
- `SANITY_PREVIEW_SECRET`
- `NEXT_PUBLIC_SITE_URL`

